{"mappings":"gfAAAA,EAAA,S,uDCAAA,EAAA,S,8BAIMC,EAAU,IAAI,EAAAC,EAAAC,SAEdC,EAAO,CACXC,YAAaC,SAASC,iBAAiB,iBACvCC,WAAYF,SAASC,iBAAiB,eACtCE,cAAeH,SAASC,iBAAiB,iBACzCG,mBAAoBJ,SAASC,iBAAiB,6BAC9CI,mBAAoBL,SAASM,cAAc,gCAI7CN,SAASO,iBAAiB,oBAAoB,WAC5CZ,EAAQa,mBAAmBC,MAAK,SAACC,GAC/B,MAAuB,OAAhBA,EAAKC,OAAkBD,EAAKE,QAAU,E,IAC5CH,MAAK,SAAAI,GACFA,EAASC,OAAS,GAM1B,SAA8BD,GACAA,EAASE,KAAI,SAAAC,G,OAAWA,EAAQC,c,IAAgBC,QAAO,SAACC,EAAMC,EAAGC,G,OAAQA,EAAIC,QAAQH,KAAUC,C,IAEvGG,SAAQ,SAAAC,GAC1B,IAAMC,EAAYzB,SAAS0B,cAAc,MACzCD,EAAUE,aAAa,QAAS,iBAEhC,IAAMC,EAAe5B,SAAS0B,cAAc,UAC5CE,EAAaD,aAAa,QAAS,gBACnCC,EAAaD,aAAa,OAAQ,UAElC,IAAME,EA2BV,SAAgCL,EAAaX,GAC3C,IAAMgB,EAAmB7B,SAAS0B,cAAc,OAChDG,EAAiBF,aAAa,QAAS,4BAEvC,IAAMG,EAAsBjB,EAASK,QAAO,SAAAF,G,OAAWA,EAAQC,iBAAmBO,C,IAIlF,OAFAK,EAAiBE,UAAYD,EAAoBf,KAAI,SAAAI,G,OAAQ,EAAAa,EAAAC,sBAAoB,EAAAD,EAAAE,aAAYf,G,IAAQgB,KAAK,IAEnGN,C,CAnCoBO,CAAuBZ,EAAaX,GAE7De,EAAaG,UAAYP,EAAYa,WAAW,IAAK,KAAO,6SAM5DZ,EAAUa,YAAYV,GACtBH,EAAUa,YAAYT,GAEtBD,EAAarB,iBAAiB,SAAS,SAAUgC,GAC/CA,EAAEC,iBACF,IAAMtC,EAAauB,EAAUnB,cAAc,eACvCuB,EAAiBY,UAAUC,SAAS,qCACtCb,EAAiBY,UAAUE,OAAO,oCAClCzC,EAAW0C,MAAMC,UAAY,kBAE7BhB,EAAiBY,UAAUK,IAAI,oCAC/B5C,EAAW0C,MAAMC,UAAY,kB,IAIjC/C,EAAKO,mBAAmBiC,YAAYb,E,IAvClCsB,CAAqBlC,E","sources":["src/read-page.js","src/scripts/read.js"],"sourcesContent":["import './scripts/API/newsAPI';\nimport './scripts/API/fetchAPI';\nimport './scripts/card-item';\n\nimport './scripts/header';\nimport './scripts/search-area';\nimport './scripts/theme';\n\nimport './scripts/read';","import formatedDate from './API/fetchAPI';\nimport NewsApi from './API/newsAPI';\nimport { newsAdapter, createMarkupForCard } from './card-item';\n\nconst newsApi = new NewsApi();\n\nconst refs = {\n  btnDateRead: document.querySelectorAll('.button__read'),\n  iconReadEl: document.querySelectorAll('.icon__read'),\n  sectionReadEl: document.querySelectorAll('.section_read'),\n  articleContainerEl: document.querySelectorAll('.read__article__container'),\n  articleSectionList: document.querySelector('.read__article-section-list')\n};\n// console.log(refs.iconReadEl);\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  newsApi.fetchPopularNews().then((data) => {\n    return data.status === 'OK' ? data.results : [];\n  }).then(articles => {\n    if (articles.length > 0) {\n      generateDateSections(articles);\n    }\n  });\n});\n\nfunction generateDateSections(articles) {\n  const articleSectionDates = articles.map(article => article.published_date).filter((item, i, arr) => arr.indexOf(item) === i);\n\n  articleSectionDates.forEach(sectionDate => {\n    const articleEl = document.createElement('li');\n    articleEl.setAttribute('class', 'read__article');\n\n    const buttonReadEl = document.createElement('button');\n    buttonReadEl.setAttribute('class', 'button__read');\n    buttonReadEl.setAttribute('type', 'button');\n\n    const articleContentEl = generateArticleContent(sectionDate, articles);\n\n    buttonReadEl.innerHTML = sectionDate.replaceAll('-', '/') + '<svg class=\"icon__read\" id=\"arrow\" role=\"img\" height=\"9\" width=\"15\" viewBox=\"0 0 56 32\" aria-hidden=\"true\"\\\n    focusable=\"false\">\\\n    <path fill=\"#000\" style=\"fill: const(--color1, 000)\"\\\n      d=\"M6.267 0l-6.267 6.089 26.667 25.911 26.667-25.911-6.267-6.089-20.4 19.779-20.4-19.779z\"></path>\\\n    </svg>';\n\n    articleEl.appendChild(buttonReadEl);\n    articleEl.appendChild(articleContentEl);\n\n    buttonReadEl.addEventListener('click', function (e) {\n      e.preventDefault();\n      const iconReadEl = articleEl.querySelector('.icon__read');\n      if (articleContentEl.classList.contains('read__article__container--active')){\n        articleContentEl.classList.remove('read__article__container--active');\n        iconReadEl.style.transform = 'rotatex(0deg)';\n      } else {\n        articleContentEl.classList.add('read__article__container--active')\n        iconReadEl.style.transform = 'rotatex(180deg)';\n      }\n    });\n\n    refs.articleSectionList.appendChild(articleEl);\n  });\n}\n\nfunction generateArticleContent(sectionDate, articles) {\n  const articleContentEl = document.createElement('div');\n  articleContentEl.setAttribute('class', 'read__article__container');\n\n  const sectionDateArticles = articles.filter(article => article.published_date === sectionDate);\n\n  articleContentEl.innerHTML = sectionDateArticles.map(item => createMarkupForCard(newsAdapter(item))).join('');\n\n  return articleContentEl;\n}\n\n"],"names":["parcelRequire","$bc906c51ae0d70c1$var$newsApi","$cFA0N","default","$bc906c51ae0d70c1$var$refs","btnDateRead","document","querySelectorAll","iconReadEl","sectionReadEl","articleContainerEl","articleSectionList","querySelector","addEventListener","fetchPopularNews","then","data","status","results","articles","length","map","article","published_date","filter","item","i","arr","indexOf","forEach","sectionDate","articleEl","createElement","setAttribute","buttonReadEl","articleContentEl","sectionDateArticles","innerHTML","$iOi8o","createMarkupForCard","newsAdapter","join","$bc906c51ae0d70c1$var$generateArticleContent","replaceAll","appendChild","e","preventDefault","classList","contains","remove","style","transform","add","$bc906c51ae0d70c1$var$generateDateSections"],"version":3,"file":"read.c585f8e8.js.map"}