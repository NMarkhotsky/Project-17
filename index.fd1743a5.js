function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o.register("bGSDD",(function(t,n){e(t.exports,"getFavorite",(function(){return u})),e(t.exports,"createMarkupForCardOnSearch",(function(){return d}));var r=o("fWY1B"),i=o("eeO3V");const a={form:document.querySelector(".form"),input:document.querySelector(".form__input"),list:document.querySelector(".cards__list--home"),iconSvg:new URL(o("fCGbF")),cardListFavorite:document.querySelector(".cards__list-favorite")};a.form.addEventListener("submit",(function(e){if(e.preventDefault(),""===a.input.value.trim())return;const t=new(0,r.default);t.searchQuery=a.input.value,t.fetchOnSearchQuery().then((({docs:e})=>{a.list.innerHTML="";const t=u();if(0===e.length){const e=`<img src="${new URL(o("jLChH"))}" alt="We haven't found news at your request">`;a.list.innerHTML=e}else{const n=e.map((e=>d(e,Boolean(t?.hasOwnProperty(e._id))))).join("");a.list.innerHTML=n}}))}));const s=`Add to favorite ${l("icon-heart")}`,c=`Remove from favorite ${l("icon-heart-full")}`;function d(e,t,n=!1){const{abstract:r,pub_date:a,multimedia:d,section_name:l,headline:f,web_url:m,_id:_}=e,v=_.replace(/[^+\d]/g,""),p=a,g=l,b=f.main,h=m,y=()=>{const e=document.querySelector(`.button__add-favorite--${v}`);e.classList.toggle("button__add-favorite--active"),e.classList.contains("button__add-favorite--active")?e.innerHTML=c:e.innerHTML=s};let S=null;S=d[0]?new URL(`https://www.nytimes.com/${d[0]?.url}`,"file:///src/scripts/search-area.js"):new URL(o("jLChH")),setTimeout((()=>{t&&y();document.querySelector(`.button__add-favorite--${v}`).onclick=w(v,e)}),0);const w=(e,t)=>()=>{y();const r=u();let o=r;if(r.hasOwnProperty(e)){if(delete o[e],n){document.querySelector(`.card_item-${e}`).remove()}}else{const n={[e]:t};o={...r,...n}}localStorage.setItem("favoriteBySearch",JSON.stringify(o))};return`\n  <div class="card_item card_item-${v}">\n    <div class="card_item-header">\n      <img class="card_item-image" src="${S}" alt="imageCaption" loading="lazy" />\n      <span class="card_item-section">${g}</span>\n      <button class="button__add-favorite button__add-favorite--${v}" data-id="${v}">\n        ${s}\n      </button>\n    </div>\n    <div class="cart_item-content">\n      <div class="card_item-text">\n        <h1 class="card_item-title">${b}</h1>\n        <p class="card_item-description">${r}</p>\n      </div>\n      <div class="card_item-info">\n        <span class="card_item-date">${(0,i.default)(p)}</span>\n        <a class="card__link-btn" href="${h}" data-title="${b}">\n          <button class="button__read-more">\n            Read more\n          </button>\n        </a>\n      </div>\n    </div>\n  </div>\n  `}function l(e){return`\n    <svg class="button__icon-svg">\n      <use href="${a.iconSvg}#${e}"></use>\n    </svg>\n  `}function u(){return JSON.parse(localStorage.getItem("favoriteBySearch"))||{}}})),o.register("fCGbF",(function(e,t){e.exports=new URL(o("kyEFX").resolve("6RkRa"),import.meta.url).toString()})),o.register("jLChH",(function(e,t){e.exports=new URL(o("kyEFX").resolve("iVvoC"),import.meta.url).toString()})),o("kyEFX").register(JSON.parse('{"b3ZSW":"index.fd1743a5.js","6RkRa":"symbol-defs.0583f717.svg","iVvoC":"not-found-desktop.a4722253.png"}'));
//# sourceMappingURL=index.fd1743a5.js.map
