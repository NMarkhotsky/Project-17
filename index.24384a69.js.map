{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAcC,SAASC,cAAc,iBACrCC,EAAeF,SAASC,cAAc,sBACtCE,EAAcH,SAASC,cAAc,aACrCG,EAAoBJ,SAASC,cAAc,aAC3CI,EAAOL,SAASC,cAAc,QAQpCF,EAAYO,iBAAiB,SAAS,SAAUC,GAC9CA,EAAEC,kBALFN,EAAaO,UAAUC,OAAO,QAC9BP,EAAYM,UAAUC,OAAO,Q,IAQ/BC,OAAOL,iBAAiB,QAIxB,SAAwBC,GACHV,EAAAe,QAAMC,IAAI,0GACtBC,MAAK,EAACC,KAAEA,MACL,MAAMC,EAAcD,EAAKE,QACnBC,EAAgBF,EAAYG,KAAIC,GAAcA,EAAWC,eAEzDC,EAAyBN,EAAYO,QAAO,CAACC,EAAIJ,KAC/CJ,EAAYS,QAAQL,IAAe,GACnCI,EAAIE,KAAKN,EAAWC,cAEjBG,IACR,IAEGG,EAA0BX,EAAYO,QAAO,CAACC,EAAIJ,KAChDJ,EAAYS,QAAQL,IAAe,GACnCI,EAAIE,KAAKN,EAAWC,cAEjBG,IACR,IAEGI,EAA0BZ,EAAYO,QAAO,CAACC,EAAIJ,KAChDJ,EAAYS,QAAQL,GAAc,GAClCI,EAAIE,KAAKN,EAAWC,cAEjBG,IACR,IAEIK,EAA2Bb,EAAYO,QAAO,CAACC,EAAIJ,KAClDJ,EAAYS,QAAQL,GAAc,GAClCI,EAAIE,KAAKN,EAAWC,cAEjBG,IACR,IACH,GAAInB,EAAKyB,aAAe,IAAK,CAI7B,OAHeZ,EAAcK,QAAO,CAACC,EAAKO,IAC/BP,EAAOQ,EAAaD,IAC5B,G,CAGE,GAAI1B,EAAKyB,YAAc,IAAMzB,EAAKyB,aAAe,IAAK,CAUvD,MADe,CARGR,EAAuBC,QAAO,CAACC,EAAKO,IACxCP,EAAOS,EAAcF,IAChC,IAEgBH,EAAwBL,QAAO,CAACC,EAAKO,IACzCP,EAAOQ,EAAaD,IAChC,I,CAcH,MADe,CARIJ,EAAwBJ,QAAO,CAACC,EAAKO,IAC1CP,EAAOS,EAAcF,IAChC,IAEgBF,EAAyBN,QAAO,CAACC,EAAKO,IAC1CP,EAAOQ,EAAaD,IAChC,I,IAMVjB,MAAKoB,IACoB,IAAlBA,EAAOC,SAoCvB,SAAoBD,GACjB9B,EAAkBgC,mBAAmB,aAAcF,E,CApCrCG,CAAWH,EAAO,IACnBI,EAAUJ,EAAO,IACjBnC,EAAYwC,WAAWC,YAAY,UAEnCF,EAAUJ,EAAO,G,IAMjC,SAASF,EAAaD,GACf,MAAO,qCAAqCA,O,CAGnD,SAASE,EAAcF,GACnB,MAAO,oBAAoBA,Y,CAI/B,SAASO,EAAUJ,GACfhC,EAAauC,UAAY,GAAGP,G,CAGhChC,EAAaI,iBAAiB,SAE9B,SAA2BC,GACvB,MAAMmC,EAAkBnC,EAAEoC,OAAOH,YAAYI,cAC7C7C,EAAYwC,WAAWC,YAAcjC,EAAEoC,OAAOH,YAC7B3C,EAAAe,QAAMC,IAAI,mDAAmD6B,qDAE9ExC,EAAaO,UAAUC,OAAO,QAC5BP,EAAYM,UAAUC,OAAO,Q","sources":["src/scripts/category.js"],"sourcesContent":["import axios from 'axios';\n\nconst dropdownBtn = document.querySelector(\".category_btn\");\nconst dropdownMenu = document.querySelector(\".category_dropdown\");\nconst toggleArrow = document.querySelector(\".svg-icon\");\nconst categoryContainer = document.querySelector(\".category\")\nconst body = document.querySelector('body');\n\n\nconst toggleDropdown = function () {\n  dropdownMenu.classList.toggle(\"show\");\n  toggleArrow.classList.toggle(\"arrow\");\n};\n\ndropdownBtn.addEventListener(\"click\", function (e) {\n  e.stopPropagation();\n  toggleDropdown();\n});\n\nwindow.addEventListener('load', getInformation);\nconst apiKey = 'u4NcxmWo2uFBK0OuatwBNClB29lN33d8';\n\n\nfunction getInformation(e) {\n    const response = axios.get(`https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=${apiKey}`)\n        .then(({ data }) => {\n            const dataObjects = data.results;\n            const categoriesAll = dataObjects.map(dataObject => dataObject.display_name);\n\n            const categoriesForLaptopBtn = dataObjects.reduce((acc,dataObject) => {\n                if (dataObjects.indexOf(dataObject) <= 3) {\n                    acc.push(dataObject.display_name)\n                }\n                return acc;\n            }, []);\n\n            const categoriesForDesktopBtn = dataObjects.reduce((acc,dataObject) => {\n                if (dataObjects.indexOf(dataObject) <= 5) {\n                    acc.push(dataObject.display_name)\n                }\n                return acc;\n            }, []);\n\n            const categoriesForLaptopList = dataObjects.reduce((acc,dataObject) => {\n                if (dataObjects.indexOf(dataObject) > 3) {\n                    acc.push(dataObject.display_name)\n                }\n                return acc;\n            }, []);\n\n             const categoriesForDesktopList = dataObjects.reduce((acc,dataObject) => {\n                if (dataObjects.indexOf(dataObject) > 5) {\n                    acc.push(dataObject.display_name)\n                }\n                return acc;\n            }, []);\n            if (body.clientWidth <= 320) {\n            const markup = categoriesAll.reduce((acc, category) => {\n                return acc += createMarkup(category);\n            }, '');\n            return markup;\n            }\n            else if (body.clientWidth > 320 & body.clientWidth <= 768) {\n                const markupBtn = categoriesForLaptopBtn.reduce((acc, category) => {\n                       return acc += createButtons(category);\n                }, '');\n\n                const markupList = categoriesForLaptopList.reduce((acc, category) => {\n                        return acc += createMarkup(category);\n                }, '');\n\n                const markup = [markupBtn, markupList];\n                return markup;\n            } else {\n                 const markupBtn = categoriesForDesktopBtn.reduce((acc, category) => {\n                       return acc += createButtons(category);\n                }, '');\n\n                const markupList = categoriesForDesktopList.reduce((acc, category) => {\n                        return acc += createMarkup(category);\n                }, '');\n\n                const markup = [markupBtn, markupList];\n                return markup;\n           }\n        })\n        .then(markup => {\n            if (markup.length === 2) {\n                 addButtons(markup[0]);\n                addMarkup(markup[1]);\n                dropdownBtn.firstChild.textContent='Others'\n            } else {\n                addMarkup(markup);\n\n            }\n        })\n};\n\nfunction createMarkup(category) {\n       return `<a class=\"dropdown-item\" href=\"#\">${category}</a>`\n}\n    \nfunction createButtons(category) {\n    return `<button href=\"#\">${category}</button>`\n}\n\n\nfunction addMarkup(markup) {\n    dropdownMenu.innerHTML = `${markup}`\n}\n\ndropdownMenu.addEventListener('click', getNewsByCategory);\n\nfunction getNewsByCategory(e) {\n    const queryByCategory = e.target.textContent.toLowerCase();\n    dropdownBtn.firstChild.textContent = e.target.textContent;\n    const response = axios.get(`https://api.nytimes.com/svc/news/v3/content/nyt/${queryByCategory}.json?api-key=${apiKey}\n`);\n    dropdownMenu.classList.toggle(\"show\");\n      toggleArrow.classList.toggle(\"arrow\");\n}\n\n\nfunction addButtons(markup) {\n   categoryContainer.insertAdjacentHTML('afterbegin', markup)\n}"],"names":["$2shzp","parcelRequire","$a0a996c2861c4bf0$var$dropdownBtn","document","querySelector","$a0a996c2861c4bf0$var$dropdownMenu","$a0a996c2861c4bf0$var$toggleArrow","$a0a996c2861c4bf0$var$categoryContainer","$a0a996c2861c4bf0$var$body","addEventListener","e","stopPropagation","classList","toggle","window","default","get","then","data","dataObjects","results","categoriesAll","map","dataObject","display_name","categoriesForLaptopBtn","reduce","acc","indexOf","push","categoriesForDesktopBtn","categoriesForLaptopList","categoriesForDesktopList","clientWidth","category","$a0a996c2861c4bf0$var$createMarkup","$a0a996c2861c4bf0$var$createButtons","markup","length","insertAdjacentHTML","$a0a996c2861c4bf0$var$addButtons","$a0a996c2861c4bf0$var$addMarkup","firstChild","textContent","innerHTML","queryByCategory","target","toLowerCase"],"version":3,"file":"index.24384a69.js.map"}