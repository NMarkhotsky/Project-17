{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAcC,SAASC,cAAc,iBACrCC,EAAeF,SAASC,cAAc,sBACtCE,EAAcH,SAASC,cAAc,aACrCG,EAAoBJ,SAASC,cAAc,aAC3CI,EAAOL,SAASC,cAAc,QAQpCF,EAAYO,iBAAiB,SAAS,SAAUC,GAC9CA,EAAEC,kBALFN,EAAaO,UAAUC,OAAO,QAC9BP,EAAYM,UAAUC,OAAO,Q,IAQ/BC,OAAOL,iBAAiB,QAIxB,SAAwBC,GACHV,EAAAe,QAAMC,IAAI,yEAAgFC,OAAPC,IAC/FC,MAAK,SAAAC,G,IACIC,EADGD,EAAJE,KACoBC,QACnBC,EAAgBH,EAAYI,KAAI,SAAAC,G,OAAcA,EAAWC,Y,IAEzDC,EAAyBP,EAAYQ,QAAO,SAACC,EAAIJ,GAInD,OAHIL,EAAYU,QAAQL,IAAe,GACnCI,EAAIE,KAAKN,EAAWC,cAEjBG,C,GACR,IAEGG,EAA0BZ,EAAYQ,QAAO,SAACC,EAAIJ,GAIpD,OAHIL,EAAYU,QAAQL,IAAe,GACnCI,EAAIE,KAAKN,EAAWC,cAEjBG,C,GACR,IAEGI,EAA0Bb,EAAYQ,QAAO,SAACC,EAAIJ,GAIpD,OAHIL,EAAYU,QAAQL,GAAc,GAClCI,EAAIE,KAAKN,EAAWC,cAEjBG,C,GACR,IAEIK,EAA2Bd,EAAYQ,QAAO,SAACC,EAAIJ,GAItD,OAHIL,EAAYU,QAAQL,GAAc,GAClCI,EAAIE,KAAKN,EAAWC,cAEjBG,C,GACR,IACH,OAAItB,EAAK4B,aAAe,IACTZ,EAAcK,QAAO,SAACC,EAAKO,GACtC,OAAOP,EAAOQ,EAAaD,E,GAC5B,IAGM7B,EAAK4B,YAAc,IAAM5B,EAAK4B,aAAe,IASnC,CARGR,EAAuBC,QAAO,SAACC,EAAKO,GAC/C,OAAOP,EAAOS,EAAcF,E,GAChC,IAEgBH,EAAwBL,QAAO,SAACC,EAAKO,GAChD,OAAOP,EAAOQ,EAAaD,E,GAChC,KAaY,CARIJ,EAAwBJ,QAAO,SAACC,EAAKO,GACjD,OAAOP,EAAOS,EAAcF,E,GAChC,IAEgBF,EAAyBN,QAAO,SAACC,EAAKO,GACjD,OAAOP,EAAOQ,EAAaD,E,GAChC,I,IAMVlB,MAAK,SAAAqB,GACoB,IAAlBA,EAAOC,SAoCvB,SAAoBD,GACjBjC,EAAkBmC,mBAAmB,aAAcF,E,CApCrCG,CAAWH,EAAO,IACnBI,EAAUJ,EAAO,IACjBtC,EAAY2C,WAAWC,YAAY,UAEnCF,EAAUJ,E,OAxE1B,IAAMtB,EAAS,mCA8Ef,SAASoB,EAAaD,GACf,MAAO,qCAA8CpB,OAAToB,EAAS,O,CAG5D,SAASE,EAAcF,GACnB,MAAO,oBAA6BpB,OAAToB,EAAS,Y,CAIxC,SAASO,EAAUJ,GACfnC,EAAa0C,UAAY,GAAU9B,OAAPuB,E,CAGhCnC,EAAaI,iBAAiB,SAE9B,SAA2BC,GACvB,IAAMsC,EAAkBtC,EAAEuC,OAAOH,YAAYI,cAC7ChD,EAAY2C,WAAWC,YAAcpC,EAAEuC,OAAOH,YAC7B9C,EAAAe,QAAMC,IAAI,mDAAmFC,OAAhC+B,EAAgB,kBAAuB/B,OAAPC,EAAO,OAErHb,EAAaO,UAAUC,OAAO,QAC5BP,EAAYM,UAAUC,OAAO,Q","sources":["src/scripts/category.js"],"sourcesContent":["import axios from 'axios';\n\nconst dropdownBtn = document.querySelector(\".category_btn\");\nconst dropdownMenu = document.querySelector(\".category_dropdown\");\nconst toggleArrow = document.querySelector(\".svg-icon\");\nconst categoryContainer = document.querySelector(\".category\")\nconst body = document.querySelector('body');\n\n\nconst toggleDropdown = function () {\n  dropdownMenu.classList.toggle(\"show\");\n  toggleArrow.classList.toggle(\"arrow\");\n};\n\ndropdownBtn.addEventListener(\"click\", function (e) {\n  e.stopPropagation();\n  toggleDropdown();\n});\n\nwindow.addEventListener('load', getInformation);\nconst apiKey = 'u4NcxmWo2uFBK0OuatwBNClB29lN33d8';\n\n\nfunction getInformation(e) {\n    const response = axios.get(`https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=${apiKey}`)\n        .then(({ data }) => {\n            const dataObjects = data.results;\n            const categoriesAll = dataObjects.map(dataObject => dataObject.display_name);\n\n            const categoriesForLaptopBtn = dataObjects.reduce((acc,dataObject) => {\n                if (dataObjects.indexOf(dataObject) <= 3) {\n                    acc.push(dataObject.display_name)\n                }\n                return acc;\n            }, []);\n\n            const categoriesForDesktopBtn = dataObjects.reduce((acc,dataObject) => {\n                if (dataObjects.indexOf(dataObject) <= 5) {\n                    acc.push(dataObject.display_name)\n                }\n                return acc;\n            }, []);\n\n            const categoriesForLaptopList = dataObjects.reduce((acc,dataObject) => {\n                if (dataObjects.indexOf(dataObject) > 3) {\n                    acc.push(dataObject.display_name)\n                }\n                return acc;\n            }, []);\n\n             const categoriesForDesktopList = dataObjects.reduce((acc,dataObject) => {\n                if (dataObjects.indexOf(dataObject) > 5) {\n                    acc.push(dataObject.display_name)\n                }\n                return acc;\n            }, []);\n            if (body.clientWidth <= 320) {\n            const markup = categoriesAll.reduce((acc, category) => {\n                return acc += createMarkup(category);\n            }, '');\n            return markup;\n            }\n            else if (body.clientWidth > 320 & body.clientWidth <= 768) {\n                const markupBtn = categoriesForLaptopBtn.reduce((acc, category) => {\n                       return acc += createButtons(category);\n                }, '');\n\n                const markupList = categoriesForLaptopList.reduce((acc, category) => {\n                        return acc += createMarkup(category);\n                }, '');\n\n                const markup = [markupBtn, markupList];\n                return markup;\n            } else {\n                 const markupBtn = categoriesForDesktopBtn.reduce((acc, category) => {\n                       return acc += createButtons(category);\n                }, '');\n\n                const markupList = categoriesForDesktopList.reduce((acc, category) => {\n                        return acc += createMarkup(category);\n                }, '');\n\n                const markup = [markupBtn, markupList];\n                return markup;\n           }\n        })\n        .then(markup => {\n            if (markup.length === 2) {\n                 addButtons(markup[0]);\n                addMarkup(markup[1]);\n                dropdownBtn.firstChild.textContent='Others'\n            } else {\n                addMarkup(markup);\n\n            }\n        })\n};\n\nfunction createMarkup(category) {\n       return `<a class=\"dropdown-item\" href=\"#\">${category}</a>`\n}\n    \nfunction createButtons(category) {\n    return `<button href=\"#\">${category}</button>`\n}\n\n\nfunction addMarkup(markup) {\n    dropdownMenu.innerHTML = `${markup}`\n}\n\ndropdownMenu.addEventListener('click', getNewsByCategory);\n\nfunction getNewsByCategory(e) {\n    const queryByCategory = e.target.textContent.toLowerCase();\n    dropdownBtn.firstChild.textContent = e.target.textContent;\n    const response = axios.get(`https://api.nytimes.com/svc/news/v3/content/nyt/${queryByCategory}.json?api-key=${apiKey}\n`);\n    dropdownMenu.classList.toggle(\"show\");\n      toggleArrow.classList.toggle(\"arrow\");\n}\n\n\nfunction addButtons(markup) {\n   categoryContainer.insertAdjacentHTML('afterbegin', markup)\n}"],"names":["$dIxxU","parcelRequire","$c343b63afb6e4b06$var$dropdownBtn","document","querySelector","$c343b63afb6e4b06$var$dropdownMenu","$c343b63afb6e4b06$var$toggleArrow","$c343b63afb6e4b06$var$categoryContainer","$c343b63afb6e4b06$var$body","addEventListener","e","stopPropagation","classList","toggle","window","default","get","concat","$c343b63afb6e4b06$var$apiKey","then","param","dataObjects","data","results","categoriesAll","map","dataObject","display_name","categoriesForLaptopBtn","reduce","acc","indexOf","push","categoriesForDesktopBtn","categoriesForLaptopList","categoriesForDesktopList","clientWidth","category","$c343b63afb6e4b06$var$createMarkup","$c343b63afb6e4b06$var$createButtons","markup","length","insertAdjacentHTML","$c343b63afb6e4b06$var$addButtons","$c343b63afb6e4b06$var$addMarkup","firstChild","textContent","innerHTML","queryByCategory","target","toLowerCase"],"version":3,"file":"index.509c8960.js.map"}